/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
!function(){"use strict";function e(e){e&&(e.classList.remove("vscode-light","vscode-dark","vscode-high-contrast"),e.classList.add(l.activeTheme))}function t(){return document.getElementById("active-frame")}function n(){return document.getElementById("pending-frame")}function o(e){if(e&&e.view&&e.view.document)for(var t=e.target;t;){if(t.tagName&&"a"===t.tagName.toLowerCase()&&t.href){var n=e.view.document.getElementsByTagName("base")[0];if("#"===t.getAttribute("href"))e.view.scrollTo(0,0);else if(t.hash&&(t.getAttribute("href")===t.hash||n&&t.href.indexOf(n.href)>=0)){var o=e.view.document.getElementById(t.hash.substr(1,t.hash.length-1));o&&o.scrollIntoView()}else s.sendToHost("did-click-link",t.href);e.preventDefault();break}t=t.parentNode}}function i(e){if(d)return;const t=e.target.body.scrollTop/e.target.body.clientHeight;isNaN(t)||(d=!0,window.requestAnimationFrame(function(){try{s.sendToHost("did-scroll",t)}catch(e){}d=!1}))}const s=require("electron").ipcRenderer;var c,r=!0,a=[];const l={initialScrollProgress:void 0};var d=!1;document.addEventListener("DOMContentLoaded",function(){s.on("baseUrl",function(e,t){l.baseUrl=t}),s.on("styles",function(n,o,i){l.styles=o,l.activeTheme=i;var s=t();if(s){e(s.contentDocument.getElementsByTagName("body")[0]);var c=s.contentDocument.getElementById("_defaultStyles");c&&(c.innerHTML=l.styles)}}),s.on("focus",function(){const e=t();e&&e.contentWindow.focus()}),s.on("content",function(d,u){const m=u.options,f=u.contents.join("\n"),h=(new DOMParser).parseFromString(f,"text/html");if(l.baseUrl&&0===h.head.getElementsByTagName("base").length){const e=h.createElement("base");e.href=l.baseUrl,h.head.appendChild(e)}const g=h.createElement("style");g.id="_defaultStyles",g.innerHTML=l.styles,h.head.hasChildNodes()?h.head.insertBefore(g,h.head.firstChild):h.head.appendChild(g),e(h.body);const v=t();var b;if(r)r=!1,b=function(e){isNaN(l.initialScrollProgress)||0===e.scrollTop&&(e.scrollTop=e.clientHeight*l.initialScrollProgress)};else{const e=v&&v.contentDocument&&v.contentDocument.body?v.contentDocument.body.scrollTop:0;b=function(t){0===t.scrollTop&&(t.scrollTop=e)}}const y=n();y&&(y.setAttribute("id",""),document.body.removeChild(y)),a=[];const p=document.createElement("iframe");p.setAttribute("id","pending-frame"),p.setAttribute("frameborder","0"),p.setAttribute("sandbox",m.allowScripts?"allow-scripts allow-forms allow-same-origin":"allow-same-origin"),p.style.cssText="display: block; margin: 0; overflow: hidden; position: absolute; width: 100%; height: 100%; visibility: hidden",document.body.appendChild(p),p.contentDocument.open("text/html","replace"),p.contentWindow.onbeforeunload=function(){return console.log("prevented webview navigation"),!1};var w=function(e,s){e.body&&(b(e.body),e.body.addEventListener("click",o));const c=n();if(c&&c.contentDocument===e){const e=t();e&&document.body.removeChild(e),c.setAttribute("id","active-frame"),c.style.visibility="visible",s.addEventListener("scroll",i),a.forEach(function(e){s.postMessage(e,document.location.origin)}),a=[]}};clearTimeout(c),c=void 0,c=setTimeout(function(){clearTimeout(c),c=void 0,w(p.contentDocument,p.contentWindow)},200),p.contentWindow.addEventListener("load",function(e){c&&(clearTimeout(c),c=void 0,w(e.target,this))}),p.contentDocument.write("<!DOCTYPE html>"),p.contentDocument.write(h.documentElement.innerHTML),p.contentDocument.close(),s.sendToHost("did-set-content")}),s.on("message",function(e,o){if(n())a.push(o);else{const e=t();e&&e.contentWindow.postMessage(o,document.location.origin)}}),s.on("initial-scroll-position",function(e,t){l.initialScrollProgress=t}),window.onmessage=function(e){s.sendToHost(e.data.command,e.data.data)},s.sendToHost("webview-ready",process.pid)})}();
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/929bacba01ef658b873545e26034d1a8067445e9/core/vs/workbench/parts/html/browser/webview-pre.js.map
